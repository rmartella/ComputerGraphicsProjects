<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Pistasdeprofunidad: Fichero Fuente src/TowerDubai.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pistasdeprofunidad
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Buscar');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>PÃ¡gina&#160;principal</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Clases</span></a></li>
      <li class="current"><a href="files.html"><span>Archivos</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Buscar" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Lista&#160;de&#160;archivos</span></a></li>
      <li><a href="globals.html"><span>Miembros&#160;de&#160;los&#160;ficheros</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('TowerDubai_8cpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Todo</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Clases</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Archivos</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Funciones</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>&apos;typedefs&apos;</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumeraciones</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Valores de enumeraciones</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>&apos;defines&apos;</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">TowerDubai.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="TowerDubai_8cpp.html">Ir a la documentaciÃ³n de este archivo.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * TowerRoot.cpp</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: 16/05/2015</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: rey</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="TowerDubai_8h.html">Headers/TowerDubai.h</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="TowerDubai_8cpp.html#aae6364a195a181790fe7379c6b44a343">   10</a></span>&#160;<span class="preprocessor">#define offset (float)0.025</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="classTowerDubai.html#aa707409972ac8db4c342614baa292730">   18</a></span>&#160;<a class="code" href="classTowerDubai.html#aa707409972ac8db4c342614baa292730">TowerDubai::TowerDubai</a>(<span class="keywordtype">int</span> numeLevels, <a class="code" href="classModel.html">Model</a> * modelStruct,</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;                       <a class="code" href="classModelEnvironment.html">ModelEnvironment</a> * modelEnvironment) {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  this-&gt;<a class="code" href="classTowerDubai.html#a2c7adf0a535604e56997c68c344fe58e">numLevels</a> = numeLevels;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  this-&gt;modelStruct = <a class="code" href="classTowerDubai.html#ac6e5727acee8fd69b5cae0b244c26142">modelStruct</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  this-&gt;modelEnvironment = <a class="code" href="classTowerDubai.html#a8d9f91d11fedd4e2c0c111db84f92e1f">modelEnvironment</a>;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  <a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a> = <span class="keyword">new</span> std::vector&lt;TowerLevel*&gt;();</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classTowerDubai.html#ab0aa1e74831343468754ce69631ca726">   30</a></span>&#160;<span class="keywordtype">float</span> <a class="code" href="classTowerDubai.html#ab0aa1e74831343468754ce69631ca726">TowerDubai::getDistanceForTranslate</a>(</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    std::vector&lt;Mesh::Mesh::MeshEntry&gt; * meshEntryesPtr) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  <span class="comment">// Iteración para obtener la longitud del desplazamiento del nivel.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="comment">// Se itera sobre el modelo .obj.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordtype">float</span> ymin, ymax;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> = 0; <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> &lt; meshEntryesPtr-&gt;size(); <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>++) {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a352ec7b7c59618a2a6dba5a1ea0633be">j</a> = 0; <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a352ec7b7c59618a2a6dba5a1ea0633be">j</a> &lt; (*meshEntryesPtr)[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>].NumIndices; <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a352ec7b7c59618a2a6dba5a1ea0633be">j</a>++) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> == 0) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        ymin = (*meshEntryesPtr)[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>].Vertices[(*meshEntryesPtr)[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>].Indices[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a352ec7b7c59618a2a6dba5a1ea0633be">j</a>]]</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            .m_pos.y;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        ymax = (*meshEntryesPtr)[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>].Vertices[(*meshEntryesPtr)[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>].Indices[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a352ec7b7c59618a2a6dba5a1ea0633be">j</a>]]</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            .m_pos.y;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;      }</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      ymin =</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;          <a class="code" href="Util_8h.html#ae19f66e94255e323687e3dcdd5362125">aisgl_min</a>(</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;              ymin,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;              (*meshEntryesPtr)[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>].Vertices[(*meshEntryesPtr)[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>].Indices[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a352ec7b7c59618a2a6dba5a1ea0633be">j</a>]]</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                  .m_pos.y);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      ymax =</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;          <a class="code" href="Util_8h.html#a5d7d752ed7ce95f82f595ac2e5e300aa">aisgl_max</a>(</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;              ymax,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;              (*meshEntryesPtr)[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>].Vertices[(*meshEntryesPtr)[<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>].Indices[j]]</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                  .m_pos.y);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keywordflow">return</span> (ymax - ymin);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classTowerDubai.html#aaa63bd62cf2624cb5cbccc2605f4e966">   61</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTowerDubai.html#aaa63bd62cf2624cb5cbccc2605f4e966">TowerDubai::createLevelsTower</a>() {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordtype">float</span> yTranslate = this-&gt;<a class="code" href="classTowerDubai.html#a9cca6c899d90a0989b6767b41971ad1b">heightLevel</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="comment">// Agulo que que tanto va a girar cada nivel de la torre para que cambie de dirección.   int angle = 360;

  // Iteración del número de niveles.
  for (int i = 0; i &lt; numLevels; i++) {
    // Escala de cada nivel.
    float scale = (numLevels - i) / (float) numLevels;
    // Se crea un nivel.
    TowerLevel * level = new TowerLevel(this-&gt;modelStruct,
                                        this-&gt;modelEnvironment);
    //Declaración de la matriz de transformación de cada nivel.
    glm::mat4 levelTransform = glm::mat4(glm::mat4(1.0));
    // Translacción hacia arriba del nivel.
    levelTransform = glm::translate(
        levelTransform,
        glm::vec3(0.0f, (float) i * (yTranslate + offset ), 0.0f));
    // Se escala el nivel dependiendo en que nivel este.
    levelTransform = glm::scale(
        levelTransform,
        vec3(1.0 + (numLevels - i) / ((float) numLevels), 1.0, 1.0));
    // Inicialización de la rotación del nivel.
    levelTransform = glm::rotate(levelTransform,
                                 -i * glm::radians((float) angle / numLevels),
                                 vec3(0.0, 1.0, 0.0));
    // Se le indica que ha rotado lo anterior
    level-&gt;setGiroAct(
        glm::radians(((float) angle) / 2)
            - i * glm::radians((float) angle / numLevels));
    // Se indica el angulo maximo de rotación.
    // Este parametro es la mitad del angulo de giro
    // Debido a que se quiere que la oscilación en una dirección empiece
    // en el pizo de abajo mientras en el de arriba termina un dirección mas.
    level-&gt;setAngleRotMax(glm::radians(((float) angle) / 2));

    level-&gt;setLevelTransform(new glm::mat4(levelTransform));

    listLevelsTower-&gt;push_back(level);
    listLevelsTower[0][i]-&gt;setDirection(1);
  }
}

/**
 * Método que renderiza todos lo niveles de la torre.
 */
void TowerDubai::render() {
  // Render de cada nivel.
  for (int i = 0; i &lt; this-&gt;numLevels; i++) {
    listLevelsTower[0][i]-&gt;render(
        *towerTransform
            * glm::mat4(*listLevelsTower[0][i]-&gt;getLevelTransform()));
  }
}
/**
 * Rota un nivel un epsiolon.
 * @param giro Incremento.
 * @param level Nivel.
 */
void TowerDubai::rotateLevel(float giro, int level) {
  glm::mat4 * transformL = new glm::mat4(1.0);
  float angle = 0.0f;
  // Revisa que dirección se encuetra el giro del nivel.
  // Gira dependiendo del sentido.
  if (listLevelsTower[0][level]-&gt;getDirection() == 1) {
    angle = listLevelsTower[0][level]-&gt;getGiroAct() + giro;
    *transformL = glm::rotate(*transformL, giro, glm::vec3(0.0f, 1.0f, 0.0f));
  } else {
    angle = listLevelsTower[0][level]-&gt;getGiroAct() - giro;
    *transformL = glm::rotate(*transformL, -giro, glm::vec3(0.0f, 1.0f, 0.0f));
  }
  *transformL = *listLevelsTower[0][level]-&gt;getLevelTransform() * (*transformL);
  listLevelsTower[0][level]-&gt;setLevelTransform(transformL);
  listLevelsTower[0][level]-&gt;setGiroAct(angle);
}
/**
 * Método que coordina las rotaciones de los niveles.
 * @param rotInc Incremento que debe hacer a la rotación.
 */
void TowerDubai::cordinateRotation(float rotInc) {
  // Giro para cada nivel.
  for (int i = 0; i &lt; numLevels; i++) {
    TowerLevel* levelPtr = listLevelsTower[0][i];
    // Revisa cuando la torre va a cambiar de dirección.
    // Y actualiza el giro maximo que debe de dar.
    if (levelPtr-&gt;getDirection() != 0) {
      if (levelPtr-&gt;getDirection() == 1
          &amp;&amp; levelPtr-&gt;getGiroAct() &lt; levelPtr-&gt;getAngleRotMax()) {
        levelPtr-&gt;setDirection(1);
      } else if (levelPtr-&gt;getDirection() == -1
          &amp;&amp; levelPtr-&gt;getGiroAct() &lt; -levelPtr-&gt;getAngleRotMax()) {
        levelPtr-&gt;setDirection(1);
        levelPtr-&gt;setGiroAct(-levelPtr-&gt;getAngleRotMax());
      } else if (levelPtr-&gt;getDirection() == 1
          &amp;&amp; levelPtr-&gt;getGiroAct() &gt; levelPtr-&gt;getAngleRotMax()) {
        levelPtr-&gt;setDirection(-1);
        levelPtr-&gt;setGiroAct(levelPtr-&gt;getAngleRotMax());
      } else
        levelPtr-&gt;setDirection(-1);
    }
    rotateLevel(rotInc, i);
  }
}
/**
 * Destructor de clase.
 */
TowerDubai::~TowerDubai() {
  this-&gt;modelEnvironment-&gt;Destroy();
  this-&gt;modelStruct-&gt;Destroy();
  free(this-&gt;listLevelsTower);
}

;
</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordtype">int</span> angle = 360;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// Iteración del número de niveles.</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> = 0; <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> &lt; <a class="code" href="classTowerDubai.html#a2c7adf0a535604e56997c68c344fe58e">numLevels</a>; <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>++) {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Escala de cada nivel.</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">float</span> scale = (numLevels - <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>) / (<span class="keywordtype">float</span>) <a class="code" href="classTowerDubai.html#a2c7adf0a535604e56997c68c344fe58e">numLevels</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">// Se crea un nivel.</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="classTowerLevel.html">TowerLevel</a> * level = <span class="keyword">new</span> <a class="code" href="classTowerLevel.html">TowerLevel</a>(this-&gt;<a class="code" href="classTowerDubai.html#ac6e5727acee8fd69b5cae0b244c26142">modelStruct</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                        this-&gt;<a class="code" href="classTowerDubai.html#a8d9f91d11fedd4e2c0c111db84f92e1f">modelEnvironment</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment">//Declaración de la matriz de transformación de cada nivel.</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    glm::mat4 levelTransform = glm::mat4(glm::mat4(1.0));</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// Translacción hacia arriba del nivel.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    levelTransform = glm::translate(</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        levelTransform,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        glm::vec3(0.0<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c">f</a>, (<span class="keywordtype">float</span>) <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> * (yTranslate + <a class="code" href="TowerDubai_8cpp.html#aae6364a195a181790fe7379c6b44a343">offset</a> ), 0.0<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c">f</a>));</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// Se escala el nivel dependiendo en que nivel este.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    levelTransform = glm::scale(</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        levelTransform,</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        vec3(1.0 + (numLevels - <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>) / ((<span class="keywordtype">float</span>) numLevels), 1.0, 1.0));</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// Inicialización de la rotación del nivel.</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    levelTransform = glm::rotate(levelTransform,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                 -<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> * glm::radians((<span class="keywordtype">float</span>) angle / numLevels),</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                 vec3(0.0, 1.0, 0.0));</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">// Se le indica que ha rotado lo anterior</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    level-&gt;<a class="code" href="classTowerLevel.html#a00e201e3458ba9b1cd83d6ac8188869b">setGiroAct</a>(</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        glm::radians(((<span class="keywordtype">float</span>) angle) / 2)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            - <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> * glm::radians((<span class="keywordtype">float</span>) angle / numLevels));</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// Se indica el angulo maximo de rotación.     // Este parametro es la mitad del angulo de giro
    // Debido a que se quiere que la oscilación en una dirección empiece
    // en el pizo de abajo mientras en el de arriba termina un dirección mas.
    level-&gt;setAngleRotMax(glm::radians(((float) angle) / 2));

    level-&gt;setLevelTransform(new glm::mat4(levelTransform));

    listLevelsTower-&gt;push_back(level);
    listLevelsTower[0][i]-&gt;setDirection(1);
  }
}

/**
 * Método que renderiza todos lo niveles de la torre.
 */
void TowerDubai::render() {
  // Render de cada nivel.
  for (int i = 0; i &lt; this-&gt;numLevels; i++) {
    listLevelsTower[0][i]-&gt;render(
        *towerTransform
            * glm::mat4(*listLevelsTower[0][i]-&gt;getLevelTransform()));
  }
}
/**
 * Rota un nivel un epsiolon.
 * @param giro Incremento.
 * @param level Nivel.
 */
void TowerDubai::rotateLevel(float giro, int level) {
  glm::mat4 * transformL = new glm::mat4(1.0);
  float angle = 0.0f;
  // Revisa que dirección se encuetra el giro del nivel.
  // Gira dependiendo del sentido.
  if (listLevelsTower[0][level]-&gt;getDirection() == 1) {
    angle = listLevelsTower[0][level]-&gt;getGiroAct() + giro;
    *transformL = glm::rotate(*transformL, giro, glm::vec3(0.0f, 1.0f, 0.0f));
  } else {
    angle = listLevelsTower[0][level]-&gt;getGiroAct() - giro;
    *transformL = glm::rotate(*transformL, -giro, glm::vec3(0.0f, 1.0f, 0.0f));
  }
  *transformL = *listLevelsTower[0][level]-&gt;getLevelTransform() * (*transformL);
  listLevelsTower[0][level]-&gt;setLevelTransform(transformL);
  listLevelsTower[0][level]-&gt;setGiroAct(angle);
}
/**
 * Método que coordina las rotaciones de los niveles.
 * @param rotInc Incremento que debe hacer a la rotación.
 */
void TowerDubai::cordinateRotation(float rotInc) {
  // Giro para cada nivel.
  for (int i = 0; i &lt; numLevels; i++) {
    TowerLevel* levelPtr = listLevelsTower[0][i];
    // Revisa cuando la torre va a cambiar de dirección.
    // Y actualiza el giro maximo que debe de dar.
    if (levelPtr-&gt;getDirection() != 0) {
      if (levelPtr-&gt;getDirection() == 1
          &amp;&amp; levelPtr-&gt;getGiroAct() &lt; levelPtr-&gt;getAngleRotMax()) {
        levelPtr-&gt;setDirection(1);
      } else if (levelPtr-&gt;getDirection() == -1
          &amp;&amp; levelPtr-&gt;getGiroAct() &lt; -levelPtr-&gt;getAngleRotMax()) {
        levelPtr-&gt;setDirection(1);
        levelPtr-&gt;setGiroAct(-levelPtr-&gt;getAngleRotMax());
      } else if (levelPtr-&gt;getDirection() == 1
          &amp;&amp; levelPtr-&gt;getGiroAct() &gt; levelPtr-&gt;getAngleRotMax()) {
        levelPtr-&gt;setDirection(-1);
        levelPtr-&gt;setGiroAct(levelPtr-&gt;getAngleRotMax());
      } else
        levelPtr-&gt;setDirection(-1);
    }
    rotateLevel(rotInc, i);
  }
}
/**
 * Destructor de clase.
 */
TowerDubai::~TowerDubai() {
  this-&gt;modelEnvironment-&gt;Destroy();
  this-&gt;modelStruct-&gt;Destroy();
  free(this-&gt;listLevelsTower);
}

;
</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// Este parametro es la mitad del angulo de giro</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">// Debido a que se quiere que la oscilación en una dirección empiece</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// en el pizo de abajo mientras en el de arriba termina un dirección mas.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    level-&gt;<a class="code" href="classTowerLevel.html#aee224e15f066b6c2c60d6864aeca43ab">setAngleRotMax</a>(glm::radians(((<span class="keywordtype">float</span>) angle) / 2));</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    level-&gt;<a class="code" href="classTowerLevel.html#a2ccb6d590379a6f407bacf5ab6c89736">setLevelTransform</a>(<span class="keyword">new</span> glm::mat4(levelTransform));</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>-&gt;push_back(level);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>]-&gt;setDirection(1);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classTowerDubai.html#ac6d6b2286c9c091aaaba8ad61b9f794a">  108</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTowerDubai.html#ac6d6b2286c9c091aaaba8ad61b9f794a">TowerDubai::render</a>() {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="comment">// Render de cada nivel.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> = 0; <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> &lt; this-&gt;<a class="code" href="classTowerDubai.html#a2c7adf0a535604e56997c68c344fe58e">numLevels</a>; <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>++) {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>]-&gt;render(</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        *<a class="code" href="classTowerDubai.html#aa410d762ed7f030ff02dbc695ebacb46">towerTransform</a></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            * glm::mat4(*<a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>]-&gt;getLevelTransform()));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}</div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="classTowerDubai.html#ae088b445ea963e6bcfaeceeb9d81a719">  121</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTowerDubai.html#ae088b445ea963e6bcfaeceeb9d81a719">TowerDubai::rotateLevel</a>(<span class="keywordtype">float</span> giro, <span class="keywordtype">int</span> level) {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  glm::mat4 * transformL = <span class="keyword">new</span> glm::mat4(1.0);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">float</span> angle = 0.0f;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// Revisa que dirección se encuetra el giro del nivel.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">// Gira dependiendo del sentido.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][level]-&gt;getDirection() == 1) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    angle = <a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][level]-&gt;getGiroAct() + giro;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    *transformL = glm::rotate(*transformL, giro, glm::vec3(0.0<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c">f</a>, 1.0<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c">f</a>, 0.0<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c">f</a>));</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    angle = <a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][level]-&gt;getGiroAct() - giro;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    *transformL = glm::rotate(*transformL, -giro, glm::vec3(0.0<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c">f</a>, 1.0<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c">f</a>, 0.0<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c">f</a>));</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  *transformL = *<a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][level]-&gt;getLevelTransform() * (*transformL);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][level]-&gt;setLevelTransform(transformL);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][level]-&gt;setGiroAct(angle);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classTowerDubai.html#a0e43edb5d5f1d35103d53e2759e22854">  141</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classTowerDubai.html#a0e43edb5d5f1d35103d53e2759e22854">TowerDubai::cordinateRotation</a>(<span class="keywordtype">float</span> rotInc) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// Giro para cada nivel.</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> = 0; <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a> &lt; <a class="code" href="classTowerDubai.html#a2c7adf0a535604e56997c68c344fe58e">numLevels</a>; <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>++) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="classTowerLevel.html">TowerLevel</a>* levelPtr = <a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>[0][<a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>];</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// Revisa cuando la torre va a cambiar de dirección.     // Y actualiza el giro maximo que debe de dar.
    if (levelPtr-&gt;getDirection() != 0) {
      if (levelPtr-&gt;getDirection() == 1
          &amp;&amp; levelPtr-&gt;getGiroAct() &lt; levelPtr-&gt;getAngleRotMax()) {
        levelPtr-&gt;setDirection(1);
      } else if (levelPtr-&gt;getDirection() == -1
          &amp;&amp; levelPtr-&gt;getGiroAct() &lt; -levelPtr-&gt;getAngleRotMax()) {
        levelPtr-&gt;setDirection(1);
        levelPtr-&gt;setGiroAct(-levelPtr-&gt;getAngleRotMax());
      } else if (levelPtr-&gt;getDirection() == 1
          &amp;&amp; levelPtr-&gt;getGiroAct() &gt; levelPtr-&gt;getAngleRotMax()) {
        levelPtr-&gt;setDirection(-1);
        levelPtr-&gt;setGiroAct(levelPtr-&gt;getAngleRotMax());
      } else
        levelPtr-&gt;setDirection(-1);
    }
    rotateLevel(rotInc, i);
  }
}
/**
 * Destructor de clase.
 */
TowerDubai::~TowerDubai() {
  this-&gt;modelEnvironment-&gt;Destroy();
  this-&gt;modelStruct-&gt;Destroy();
  free(this-&gt;listLevelsTower);
}

;
</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// Y actualiza el giro maximo que debe de dar.</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (levelPtr-&gt;<a class="code" href="classTowerLevel.html#a767a8f732222b9c8622bcc592df6cca0">getDirection</a>() != 0) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">if</span> (levelPtr-&gt;<a class="code" href="classTowerLevel.html#a767a8f732222b9c8622bcc592df6cca0">getDirection</a>() == 1</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;          &amp;&amp; levelPtr-&gt;<a class="code" href="classTowerLevel.html#aba82878f2488df470c9da78481ff93f4">getGiroAct</a>() &lt; levelPtr-&gt;<a class="code" href="classTowerLevel.html#a0188f8a56bc8155dca21d38ae8df2fc5">getAngleRotMax</a>()) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        levelPtr-&gt;<a class="code" href="classTowerLevel.html#a87808afd8664757c42476fae5107f727">setDirection</a>(1);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (levelPtr-&gt;<a class="code" href="classTowerLevel.html#a767a8f732222b9c8622bcc592df6cca0">getDirection</a>() == -1</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          &amp;&amp; levelPtr-&gt;<a class="code" href="classTowerLevel.html#aba82878f2488df470c9da78481ff93f4">getGiroAct</a>() &lt; -levelPtr-&gt;<a class="code" href="classTowerLevel.html#a0188f8a56bc8155dca21d38ae8df2fc5">getAngleRotMax</a>()) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        levelPtr-&gt;<a class="code" href="classTowerLevel.html#a87808afd8664757c42476fae5107f727">setDirection</a>(1);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        levelPtr-&gt;<a class="code" href="classTowerLevel.html#a00e201e3458ba9b1cd83d6ac8188869b">setGiroAct</a>(-levelPtr-&gt;<a class="code" href="classTowerLevel.html#a0188f8a56bc8155dca21d38ae8df2fc5">getAngleRotMax</a>());</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (levelPtr-&gt;<a class="code" href="classTowerLevel.html#a767a8f732222b9c8622bcc592df6cca0">getDirection</a>() == 1</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;          &amp;&amp; levelPtr-&gt;<a class="code" href="classTowerLevel.html#aba82878f2488df470c9da78481ff93f4">getGiroAct</a>() &gt; levelPtr-&gt;<a class="code" href="classTowerLevel.html#a0188f8a56bc8155dca21d38ae8df2fc5">getAngleRotMax</a>()) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        levelPtr-&gt;<a class="code" href="classTowerLevel.html#a87808afd8664757c42476fae5107f727">setDirection</a>(-1);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        levelPtr-&gt;<a class="code" href="classTowerLevel.html#a00e201e3458ba9b1cd83d6ac8188869b">setGiroAct</a>(levelPtr-&gt;<a class="code" href="classTowerLevel.html#a0188f8a56bc8155dca21d38ae8df2fc5">getAngleRotMax</a>());</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        levelPtr-&gt;<a class="code" href="classTowerLevel.html#a87808afd8664757c42476fae5107f727">setDirection</a>(-1);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="classTowerDubai.html#ae088b445ea963e6bcfaeceeb9d81a719">rotateLevel</a>(rotInc, <a class="code" href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classTowerDubai.html#af5d182e7efb5764a72d61a62bde29934">  168</a></span>&#160;<a class="code" href="classTowerDubai.html#af5d182e7efb5764a72d61a62bde29934">TowerDubai::~TowerDubai</a>() {</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  this-&gt;<a class="code" href="classTowerDubai.html#a8d9f91d11fedd4e2c0c111db84f92e1f">modelEnvironment</a>-&gt;<a class="code" href="classModelEnvironment.html#a187edb2157b338b3ab30fdac8b2aa5d4">Destroy</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  this-&gt;<a class="code" href="classTowerDubai.html#ac6e5727acee8fd69b5cae0b244c26142">modelStruct</a>-&gt;<a class="code" href="classModel.html#ad60ed0ed7eaa7dcdd58398e6efacc7c4">Destroy</a>();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  free(this-&gt;<a class="code" href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">listLevelsTower</a>);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;;</div>
<div class="ttc" id="classTowerDubai_html_aa707409972ac8db4c342614baa292730"><div class="ttname"><a href="classTowerDubai.html#aa707409972ac8db4c342614baa292730">TowerDubai::TowerDubai</a></div><div class="ttdeci">TowerDubai(int numeLevels, Model *modelStruct, ModelEnvironment *modelEnvironment)</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8cpp_source.html#l00018">TowerDubai.cpp:18</a></div></div>
<div class="ttc" id="InputManager_8h_html_ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5"><div class="ttname"><a href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a85ae20979fb729ef19da67855aecdfd5">i</a></div><div class="ttdef"><b>Definition:</b> <a href="InputManager_8h_source.html#l00035">InputManager.h:35</a></div></div>
<div class="ttc" id="classTowerLevel_html_a2ccb6d590379a6f407bacf5ab6c89736"><div class="ttname"><a href="classTowerLevel.html#a2ccb6d590379a6f407bacf5ab6c89736">TowerLevel::setLevelTransform</a></div><div class="ttdeci">void setLevelTransform(glm::mat4 *levelTransform)</div><div class="ttdef"><b>Definition:</b> <a href="TowerLevel_8h_source.html#l00030">TowerLevel.h:30</a></div></div>
<div class="ttc" id="classTowerLevel_html_a0188f8a56bc8155dca21d38ae8df2fc5"><div class="ttname"><a href="classTowerLevel.html#a0188f8a56bc8155dca21d38ae8df2fc5">TowerLevel::getAngleRotMax</a></div><div class="ttdeci">float getAngleRotMax() const </div><div class="ttdef"><b>Definition:</b> <a href="TowerLevel_8h_source.html#l00065">TowerLevel.h:65</a></div></div>
<div class="ttc" id="classModelEnvironment_html"><div class="ttname"><a href="classModelEnvironment.html">ModelEnvironment</a></div><div class="ttdef"><b>Definition:</b> <a href="ModelEnvironment_8h_source.html#l00022">ModelEnvironment.h:22</a></div></div>
<div class="ttc" id="classTowerDubai_html_a2c7adf0a535604e56997c68c344fe58e"><div class="ttname"><a href="classTowerDubai.html#a2c7adf0a535604e56997c68c344fe58e">TowerDubai::numLevels</a></div><div class="ttdeci">int numLevels</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8h_source.html#l00089">TowerDubai.h:89</a></div></div>
<div class="ttc" id="classTowerLevel_html"><div class="ttname"><a href="classTowerLevel.html">TowerLevel</a></div><div class="ttdef"><b>Definition:</b> <a href="TowerLevel_8h_source.html#l00017">TowerLevel.h:17</a></div></div>
<div class="ttc" id="classTowerLevel_html_aba82878f2488df470c9da78481ff93f4"><div class="ttname"><a href="classTowerLevel.html#aba82878f2488df470c9da78481ff93f4">TowerLevel::getGiroAct</a></div><div class="ttdeci">float getGiroAct()</div><div class="ttdef"><b>Definition:</b> <a href="TowerLevel_8h_source.html#l00044">TowerLevel.h:44</a></div></div>
<div class="ttc" id="classTowerDubai_html_ab0aa1e74831343468754ce69631ca726"><div class="ttname"><a href="classTowerDubai.html#ab0aa1e74831343468754ce69631ca726">TowerDubai::getDistanceForTranslate</a></div><div class="ttdeci">float getDistanceForTranslate(std::vector&lt; Mesh::Mesh::MeshEntry &gt; *meshEntryesPtr)</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8cpp_source.html#l00030">TowerDubai.cpp:30</a></div></div>
<div class="ttc" id="InputManager_8h_html_ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c"><div class="ttname"><a href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a7ce756344023b99e5ab27b804feb765c">f</a></div><div class="ttdef"><b>Definition:</b> <a href="InputManager_8h_source.html#l00029">InputManager.h:29</a></div></div>
<div class="ttc" id="classTowerDubai_html_aa410d762ed7f030ff02dbc695ebacb46"><div class="ttname"><a href="classTowerDubai.html#aa410d762ed7f030ff02dbc695ebacb46">TowerDubai::towerTransform</a></div><div class="ttdeci">glm::mat4 * towerTransform</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8h_source.html#l00093">TowerDubai.h:93</a></div></div>
<div class="ttc" id="TowerDubai_8h_html"><div class="ttname"><a href="TowerDubai_8h.html">TowerDubai.h</a></div></div>
<div class="ttc" id="classTowerDubai_html_af5d182e7efb5764a72d61a62bde29934"><div class="ttname"><a href="classTowerDubai.html#af5d182e7efb5764a72d61a62bde29934">TowerDubai::~TowerDubai</a></div><div class="ttdeci">virtual ~TowerDubai()</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8cpp_source.html#l00168">TowerDubai.cpp:168</a></div></div>
<div class="ttc" id="classTowerDubai_html_adbc3c66eb83288ffd696ce454bb92d8e"><div class="ttname"><a href="classTowerDubai.html#adbc3c66eb83288ffd696ce454bb92d8e">TowerDubai::listLevelsTower</a></div><div class="ttdeci">std::vector&lt; TowerLevel * &gt; * listLevelsTower</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8h_source.html#l00094">TowerDubai.h:94</a></div></div>
<div class="ttc" id="classModel_html_ad60ed0ed7eaa7dcdd58398e6efacc7c4"><div class="ttname"><a href="classModel.html#ad60ed0ed7eaa7dcdd58398e6efacc7c4">Model::Destroy</a></div><div class="ttdeci">void Destroy()</div><div class="ttdef"><b>Definition:</b> <a href="Model_8cpp_source.html#l00174">Model.cpp:174</a></div></div>
<div class="ttc" id="classTowerLevel_html_a00e201e3458ba9b1cd83d6ac8188869b"><div class="ttname"><a href="classTowerLevel.html#a00e201e3458ba9b1cd83d6ac8188869b">TowerLevel::setGiroAct</a></div><div class="ttdeci">void setGiroAct(float giroAct)</div><div class="ttdef"><b>Definition:</b> <a href="TowerLevel_8h_source.html#l00051">TowerLevel.h:51</a></div></div>
<div class="ttc" id="Util_8h_html_ae19f66e94255e323687e3dcdd5362125"><div class="ttname"><a href="Util_8h.html#ae19f66e94255e323687e3dcdd5362125">aisgl_min</a></div><div class="ttdeci">#define aisgl_min(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="Util_8h_source.html#l00027">Util.h:27</a></div></div>
<div class="ttc" id="classTowerLevel_html_a87808afd8664757c42476fae5107f727"><div class="ttname"><a href="classTowerLevel.html#a87808afd8664757c42476fae5107f727">TowerLevel::setDirection</a></div><div class="ttdeci">void setDirection(int direction=0)</div><div class="ttdef"><b>Definition:</b> <a href="TowerLevel_8h_source.html#l00088">TowerLevel.h:88</a></div></div>
<div class="ttc" id="Util_8h_html_a5d7d752ed7ce95f82f595ac2e5e300aa"><div class="ttname"><a href="Util_8h.html#a5d7d752ed7ce95f82f595ac2e5e300aa">aisgl_max</a></div><div class="ttdeci">#define aisgl_max(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="Util_8h_source.html#l00028">Util.h:28</a></div></div>
<div class="ttc" id="classModel_html"><div class="ttname"><a href="classModel.html">Model</a></div><div class="ttdef"><b>Definition:</b> <a href="Model_8h_source.html#l00039">Model.h:39</a></div></div>
<div class="ttc" id="classTowerLevel_html_a767a8f732222b9c8622bcc592df6cca0"><div class="ttname"><a href="classTowerLevel.html#a767a8f732222b9c8622bcc592df6cca0">TowerLevel::getDirection</a></div><div class="ttdeci">float getDirection() const </div><div class="ttdef"><b>Definition:</b> <a href="TowerLevel_8h_source.html#l00081">TowerLevel.h:81</a></div></div>
<div class="ttc" id="classTowerDubai_html_a8d9f91d11fedd4e2c0c111db84f92e1f"><div class="ttname"><a href="classTowerDubai.html#a8d9f91d11fedd4e2c0c111db84f92e1f">TowerDubai::modelEnvironment</a></div><div class="ttdeci">ModelEnvironment * modelEnvironment</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8h_source.html#l00092">TowerDubai.h:92</a></div></div>
<div class="ttc" id="classModelEnvironment_html_a187edb2157b338b3ab30fdac8b2aa5d4"><div class="ttname"><a href="classModelEnvironment.html#a187edb2157b338b3ab30fdac8b2aa5d4">ModelEnvironment::Destroy</a></div><div class="ttdeci">void Destroy()</div><div class="ttdef"><b>Definition:</b> <a href="ModelEnvironment_8cpp_source.html#l00173">ModelEnvironment.cpp:173</a></div></div>
<div class="ttc" id="classTowerLevel_html_aee224e15f066b6c2c60d6864aeca43ab"><div class="ttname"><a href="classTowerLevel.html#aee224e15f066b6c2c60d6864aeca43ab">TowerLevel::setAngleRotMax</a></div><div class="ttdeci">void setAngleRotMax(float angleRotMax)</div><div class="ttdef"><b>Definition:</b> <a href="TowerLevel_8h_source.html#l00073">TowerLevel.h:73</a></div></div>
<div class="ttc" id="classTowerDubai_html_aaa63bd62cf2624cb5cbccc2605f4e966"><div class="ttname"><a href="classTowerDubai.html#aaa63bd62cf2624cb5cbccc2605f4e966">TowerDubai::createLevelsTower</a></div><div class="ttdeci">void createLevelsTower()</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8cpp_source.html#l00061">TowerDubai.cpp:61</a></div></div>
<div class="ttc" id="classTowerDubai_html_ac6e5727acee8fd69b5cae0b244c26142"><div class="ttname"><a href="classTowerDubai.html#ac6e5727acee8fd69b5cae0b244c26142">TowerDubai::modelStruct</a></div><div class="ttdeci">Model * modelStruct</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8h_source.html#l00091">TowerDubai.h:91</a></div></div>
<div class="ttc" id="classTowerDubai_html_a9cca6c899d90a0989b6767b41971ad1b"><div class="ttname"><a href="classTowerDubai.html#a9cca6c899d90a0989b6767b41971ad1b">TowerDubai::heightLevel</a></div><div class="ttdeci">float heightLevel</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8h_source.html#l00090">TowerDubai.h:90</a></div></div>
<div class="ttc" id="classTowerDubai_html_ac6d6b2286c9c091aaaba8ad61b9f794a"><div class="ttname"><a href="classTowerDubai.html#ac6d6b2286c9c091aaaba8ad61b9f794a">TowerDubai::render</a></div><div class="ttdeci">void render()</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8cpp_source.html#l00108">TowerDubai.cpp:108</a></div></div>
<div class="ttc" id="InputManager_8h_html_ac9097db8d46246207fd466b9ed9e1628a352ec7b7c59618a2a6dba5a1ea0633be"><div class="ttname"><a href="InputManager_8h.html#ac9097db8d46246207fd466b9ed9e1628a352ec7b7c59618a2a6dba5a1ea0633be">j</a></div><div class="ttdef"><b>Definition:</b> <a href="InputManager_8h_source.html#l00037">InputManager.h:37</a></div></div>
<div class="ttc" id="classTowerDubai_html_a0e43edb5d5f1d35103d53e2759e22854"><div class="ttname"><a href="classTowerDubai.html#a0e43edb5d5f1d35103d53e2759e22854">TowerDubai::cordinateRotation</a></div><div class="ttdeci">void cordinateRotation(float rotInc)</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8cpp_source.html#l00141">TowerDubai.cpp:141</a></div></div>
<div class="ttc" id="classTowerDubai_html_ae088b445ea963e6bcfaeceeb9d81a719"><div class="ttname"><a href="classTowerDubai.html#ae088b445ea963e6bcfaeceeb9d81a719">TowerDubai::rotateLevel</a></div><div class="ttdeci">void rotateLevel(float giro, int level)</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8cpp_source.html#l00121">TowerDubai.cpp:121</a></div></div>
<div class="ttc" id="TowerDubai_8cpp_html_aae6364a195a181790fe7379c6b44a343"><div class="ttname"><a href="TowerDubai_8cpp.html#aae6364a195a181790fe7379c6b44a343">offset</a></div><div class="ttdeci">#define offset</div><div class="ttdef"><b>Definition:</b> <a href="TowerDubai_8cpp_source.html#l00010">TowerDubai.cpp:10</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="TowerDubai_8cpp.html">TowerDubai.cpp</a></li>
    <li class="footer">Generado el Martes, 26 de Mayo de 2015 07:23:14 para Pistasdeprofunidad por
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
